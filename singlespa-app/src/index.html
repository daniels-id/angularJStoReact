<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Single-SPA Root Config</title>

    <!-- Add SystemJS and Import Map -->
    <script src="https://cdn.jsdelivr.net/npm/systemjs@6.14.3/dist/system.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/systemjs@6.14.3/dist/extras/amd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/systemjs@6.14.3/dist/extras/named-exports.min.js"></script>

    <!-- Keep favicon link -->
    <link rel="icon" href="favicon.ico">

    <script type="systemjs-importmap">
        {
            "imports": {
                "single-spa": "https://cdn.jsdelivr.net/npm/single-spa@6.0.0/dist/system/single-spa.min.js",
                "angular": "https://cdn.jsdelivr.net/npm/angular@1.3.20/angular.min.js",
                "react": "https://cdn.jsdelivr.net/npm/react@18.3.1/umd/react.production.min.js",
                "react-dom": "https://cdn.jsdelivr.net/npm/react-dom@18.3.1/umd/react-dom.production.min.js",

                "@singlespa-app/root-config": "/root-config.js",
                "@singlespa-app/angularjs-app": "/angularjs-app.js",
                "@singlespa-app/react-app": "/react-app.js"
            }
        }
    </script>

    <!-- Webpack bundles will be loaded via SystemJS -->

</head>
<body>
    <!-- Remove Navigation -->
    <!-- <nav style="padding: 10px; background-color: #eee; margin-bottom: 10px;">
        <a href="/angularjs" style="margin-right: 10px;">Load AngularJS App</a>
        <a href="/react">Load React App</a>
    </nav> -->

    <h1>Single-SPA Container</h1>

    <!-- Main container for single-spa applications -->
    <main id="single-spa-application-container">
        <!-- Specific containers for each microfrontend -->
        <div id="angularjs-app-container"></div>
        <hr/> <!-- Add a separator -->
        <div id="react-app-container"></div>
    </main>

    <script>
        // Load the root config using SystemJS
        System.import('@singlespa-app/root-config').catch(function (err) {
            console.error('Error loading root config:', err);
        });
    </script>
</body>
</html> 